#program check(t).
				
%		:- not assign(S,P), isShelf(S), isStation(P),	  process(A,O,C,t), ordered(O,A), target(O,P), position(P,C), position(S,C,t).
		:-     assign(S,P), isShelf(S), isStation(P), not process(A,O,C,t), ordered(O,A), target(O,P), position(P,C), position(S,C,t), query(t).
%		:-     assign(S,P), isStation(P), not process(A,O,C,t), ordered(O,A), position(P,C), query(t).

process(S,P,t) :- process(A,O,C,t), ordered(O,A), target(O,P), position(P,C), position(S,C,t), shelved(S,A).
test(S,P,t) :- not process(S,P,t), assign(S,P), isShelf(S), isStation(P), query(t).

process(A,O,C,t) :- ordered(O,A), target(O,P), position(P,C), shelved(S,A), not position(S,C,0),
                    position(S,C,t), assign(S,P).
		    process(A,O,C,t) :- ordered(O,A), target(O,P), position(P,C), shelved(S,A), position(S,C,0),
		                        carries(_,S,t), assign(S,P).
					

correct(S,P,t) 	  :-     assign(S,P), isShelf(S), isStation(P), process(A,O,C,t), ordered(O,A), target(O,P), position(P,C), position(S,C,t).
wrong(S,P,t)      :-     assign(S,P), isShelf(S), isStation(P), not process(A,O,C,t), ordered(O,A), target(O,P), position(P,C), position(S,C,t).
additional(S,P,t) :- not assign(S,P), isShelf(S), isStation(P), process(A,O,C,t), ordered(O,A), target(O,P), position(P,C), position(S,C,t).


#show assign/2.
#show correct/3.
#show additional/3.
#show wrong/3.
#show process/3.
#show test/3.